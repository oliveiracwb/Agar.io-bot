var aposLauncherVersion=4.145,perseguebolas=0;Number.prototype.mod=function(t){return(this%t+t)%t},Array.prototype.peek=function(){return this[this.length-1]};var sha="efde0488cc2cc176db48dd23b28a20b90314352b";!function(e,n){function o(t){84==t.keyCode&&(xe=!xe),82==t.keyCode&&(Ae=!Ae),68==t.keyCode&&window.setDarkTheme(!getDarkBool()),70==t.keyCode&&window.setShowMass(!getMassBool()),69==t.keyCode&&(message.length>0?(window.setMessage([]),window.onmouseup=function(){},window.ignoreStream=!0):(window.ignoreStream=!1,window.refreshTwitch())),window.botList[botIndex].keyAction(t)}function a(){return[getPointX(),getPointY()]}function i(){function t(){this.name="Human",this.keyAction=function(){},this.displayText=function(){return[]},this.mainLoop=a}window.botList=window.botList||[],window.jQuery("#nick").val(originalName);var i=new t;window.botList.push(i),window.updateBotList(),ya=!0,d(),setInterval(d,18e4);var s=window.jQuery("#canvas").parent();window.jQuery("#canvas").remove(),s.prepend("<canvas id='canvas'>"),Le=Ue=document.getElementById("canvas"),ke=Le.getContext("2d"),Le.onmousedown=function(t){if(ze){var e=t.clientX-(5+Ee/5/2),n=t.clientY-(5+Ee/5/2);if(Math.sqrt(e*e+n*n)<=Ee/5/2)return Y(),void V(17)}fa=t.clientX,ga=t.clientY,c(),Y()},Le.onmousemove=function(t){fa=t.clientX,ga=t.clientY,c()},Le.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",r,!1):document.body.onmousewheel=r;var l=!1,h=!1,u=!1;e.onkeydown=function(t){window.jQuery("#nick").is(":focus")||(32!=t.keyCode||l||(Y(),V(17),l=!0),81!=t.keyCode||h||(V(18),h=!0),87!=t.keyCode||u||(Y(),V(21)),27==t.keyCode&&f(!0),o(t))},e.onkeyup=function(t){32==t.keyCode&&(l=!1),87==t.keyCode&&(u=!1),81==t.keyCode&&h&&(V(19),h=!1)},e.onblur=function(){V(19),u=h=l=!1},e.onresize=_,e.requestAnimationFrame(en),setInterval(Y,40),y&&n("#region").val(y),m(),g(n("#region").val()),0==Ba&&y&&U(),W=!0,n("#overlays").show(),_(),e.location.hash&&6<=e.location.hash.length&&me(e.location.hash)}function r(t){J*=Math.pow(.9,t.wheelDelta/-120||t.detail||0),.07>J&&(J=.07),J>4/h&&(J=4/h)}function l(){if(.4>h)Te=null;else{for(var e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,i=0,r=0;r<v.length;r++){var l=v[r];!l.N()||l.R||20>=l.size*h||(i=Math.max(l.size,i),e=Math.min(l.x,e),n=Math.min(l.y,n),o=Math.max(l.x,o),a=Math.max(l.y,a))}for(Te=sn.ka({ca:e-10,da:n-10,oa:o+10,pa:a+10,ma:2,na:4}),r=0;r<v.length;r++)if(l=v[r],l.N()&&!(20>=l.size*h))for(e=0;e<l.a.length;++e)n=l.a[e].x,o=l.a[e].y,n<s-Ee/2/h||o<t-Fe/2/h||n>s+Ee/2/h||o>t+Fe/2/h||Te.m(l.a[e])}}function c(){(xe||"Human"==window.botList[botIndex].name)&&setPoint((fa-Ee/2)/h+s,(ga-Fe/2)/h+t)}function d(){null==qe&&(qe={},n("#region").children().each(function(){var t=n(this),e=t.val();e&&(qe[e]=t.text())})),n.get(be+"info",function(t){var e,o={};for(e in t.regions){var a=e.split(":")[0];o[a]=o[a]||0,o[a]+=t.regions[e].numPlayers}for(e in o)n('#region option[value="'+e+'"]').text(qe[e]+" ("+o[e]+" players)")},"json")}function u(){n("#adsBottom").hide(),n("#overlays").hide(),W=!1,m(),e.googletag&&e.googletag.pubads&&e.googletag.pubads().clear(e.aa)}function g(t){t&&t!=y&&(n("#region").val()!=t&&n("#region").val(t),y=e.localStorage.location=t,n(".region-message").hide(),n(".region-message."+t).show(),n(".btn-needs-server").prop("disabled",!1),ya&&U())}function f(t){W||(K=null,w(),t&&(x=1),W=!0,n("#overlays").fadeIn(t?200:3e3))}function p(t){n("#helloContainer").attr("data-gamemode",t),P=t,n("#gamemode").val(t)}function m(){n("#region").val()?e.localStorage.location=n("#region").val():e.localStorage.location&&n("#region").val(e.localStorage.location),n("#region").val()?n("#locationKnown").append(n("#region")):n("#locationUnknown").append(n("#region"))}function w(){Qe&&(Qe=!1,setTimeout(function(){Qe=!0},6e4*We))}function b(t){return e.i18n[t]||e.i18n_dict.en[t]||t}function S(){var t=++Ba;n.ajax(be+"findServer",{error:function(){setTimeout(S,1e3)},success:function(e){t==Ba&&(e.alert&&alert(e.alert),L("ws://"+e.ip,e.token))},dataType:"json",method:"POST",cache:!1,crossDomain:!0,data:(y+P||"?")+"\n154669603"})}function U(){ya&&y&&(n("#connecting").show(),S())}function L(t,e){if(q){q.onopen=null,q.onmessage=null,q.onclose=null;try{q.close()}catch(n){}q=null}if(Da.ip&&(t="ws://"+Da.ip),null!=Ke){var o=Ke;Ke=function(){o(e)}}if(ve){var a=t.split(":");t=a[0]+"s://ip-"+a[1].replace(/\./g,"-").replace(/\//g,"")+".tech.agar.io:"+ +a[2]}M=[],k=[],E={},v=[],Q=[],F=[],_e=A=null,R=0,bo=!1,serverIP=t,q=new WebSocket(t),q.binaryType="arraybuffer",q.onopen=function(){var t;t=T(5),t.setUint8(0,254),t.setUint32(1,5,!0),I(t),t=T(5),t.setUint8(0,255),t.setUint32(1,154669603,!0),I(t),t=T(1+e.length),t.setUint8(0,80);for(var n=0;n<e.length;++n)t.setUint8(n+1,e.charCodeAt(n));I(t),Z()},q.onmessage=O,q.onclose=G,q.onerror=function(){}}function T(t){return new DataView(new ArrayBuffer(t))}function I(t){q.send(t.buffer)}function G(){bo&&(He=500),setTimeout(U,He),He*=2}function O(t){N(new DataView(t.data))}function N(e){function n(){for(var t="";;){var n=e.getUint16(o,!0);if(o+=2,0==n)break;t+=String.fromCharCode(n)}return t}var o=0;switch(240==e.getUint8(o)&&(o+=5),e.getUint8(o++)){case 16:D(e,o);break;case 17:aa=e.getFloat32(o,!0),o+=4,ba=e.getFloat32(o,!0),o+=4,ca=e.getFloat32(o,!0),o+=4;break;case 20:k=[],M=[];break;case 21:Ea=e.getInt16(o,!0),o+=2,Fa=e.getInt16(o,!0),o+=2,Ga||(Ga=!0,na=Ea,oa=Fa);break;case 32:M.push(e.getUint32(o,!0)),o+=4;break;case 49:if(null!=A)break;var a=e.getUint32(o,!0),o=o+4;F=[];for(var i=0;a>i;++i){var r=e.getUint32(o,!0),o=o+4;F.push({id:r,name:n()})}le();break;case 50:for(A=[],a=e.getUint32(o,!0),o+=4,i=0;a>i;++i)A.push(e.getFloat32(o,!0)),o+=4;le();break;case 64:pa=e.getFloat64(o,!0),o+=8,qa=e.getFloat64(o,!0),o+=8,ra=e.getFloat64(o,!0),o+=8,sa=e.getFloat64(o,!0),o+=8,aa=(ra+pa)/2,ba=(sa+qa)/2,ca=1,0==k.length&&(s=aa,t=ba,h=ca);break;case 81:var l=e.getUint32(o,!0),o=o+4,c=e.getUint32(o,!0),o=o+4,d=e.getUint32(o,!0),o=o+4;setTimeout(function(){ue({e:l,f:c,d:d})},1200)}}function D(e,o){bb=C=Date.now(),bo||(bo=!0,n("#connecting").hide(),X(),Ke&&(Ke(),Ke=null));var a=Math.random();Ha=!1;var i=e.getUint16(o,!0);o+=2;for(var r=0;i>r;++r){var l=E[e.getUint32(o,!0)],h=E[e.getUint32(o+4,!0)];o+=8,l&&h&&(h.X(),h.s=h.x,h.t=h.y,h.r=h.size,h.J=l.x,h.K=l.y,h.q=h.size,h.Q=C)}for(r=0;i=e.getUint32(o,!0),o+=4,0!=i;){++r;var c,l=e.getInt16(o,!0);o+=4,h=e.getInt16(o,!0),o+=4,c=e.getInt16(o,!0),o+=2;for(var d=e.getUint8(o++),u=e.getUint8(o++),g=e.getUint8(o++),d=(d<<16|u<<8|g).toString(16);6>d.length;)d="0"+d;var d="#"+d,u=e.getUint8(o++),g=!!(1&u),f=!!(16&u);2&u&&(o+=4),4&u&&(o+=8),8&u&&(o+=16);for(var p,m="";p=e.getUint16(o,!0),o+=2,0!=p;)m+=String.fromCharCode(p);p=m,m=null,E.hasOwnProperty(i)?(m=E[i],m.P(),m.s=m.x,m.t=m.y,m.r=m.size,m.color=d):(m=new ce(i,l,h,c,d,p),v.push(m),E[i]=m,m.ua=l,m.va=h),m.h=g,m.n=f,m.J=l,m.K=h,m.q=c,m.sa=a,m.Q=C,m.ba=u,p&&m.B(p),-1!=M.indexOf(i)&&-1==k.indexOf(m)&&(document.getElementById("overlays").style.display="none",k.push(m),m.birth=getLastUpdate(),m.birthMass=m.size*m.size/100,1==k.length&&(s=m.x,t=m.y,ln())),interNodes[i]=window.getCells()[i]}for(Object.keys(interNodes).forEach(function(t){var e=!window.getCells().hasOwnProperty(t);e&&window.getLastUpdate()-interNodes[t].getUptimeTime()>3e3?delete interNodes[t]:e&&interNodes[t].x>getX()-960/getZoomlessRatio()&&interNodes[t].x<getX()+960/getZoomlessRatio()&&interNodes[t].y>getY()-540/getZoomlessRatio()&&interNodes[t].y<getY()+540/getZoomlessRatio()&&delete interNodes[t]}),a=e.getUint32(o,!0),o+=4,r=0;a>r;r++)i=e.getUint32(o,!0),o+=4,m=E[i],null!=m&&m.X()}function z(t,e,n,o){var a=t-n,i=e-o,r=Math.sqrt(a*a+i*i);return r}function j(){return Math.min(z(getOffsetX(),getOffsetY(),screenToGameX(getWidth()),getOffsetY()),z(getOffsetX(),getOffsetY(),getOffsetX(),screenToGameY(getHeight())))}function Y(){if(De&&f(!1),0==getPlayer().length&&!reviving&&~~(getCurrentScore()/100)>0&&apos("send","pageview"),0!=getPlayer().length||De?getPlayer().length>0&&reviving&&(reviving=!0):(setNick(originalName),reviving=!0),H()){var t=fa-Ee/2,e=ga-Fe/2;64>t*t+e*e||.01>Math.abs(Ve-ia)&&.01>Math.abs(Ze-ja)||(Ve=ia,Ze=ja,t=T(13),t.setUint8(0,16),t.setInt32(1,ia,!0),t.setInt32(5,ja,!0),t.setUint32(9,0,!0),I(t))}}function X(){if(H()&&bo&&null!=K){var t=T(1+2*K.length);t.setUint8(0,0);for(var e=0;e<K.length;++e)t.setUint16(1+2*e,K.charCodeAt(e),!0);I(t)}}function H(){return null!=q&&q.readyState==q.OPEN}function V(t){if(H()){var e=T(1);e.setUint8(0,t),I(e)}}function Z(){if(H()&&null!=B){var t=T(1+B.length);t.setUint8(0,81);for(var e=0;e<B.length;++e)t.setUint8(e+1,B.charCodeAt(e));I(t)}}function _(){Ee=e.innerWidth,Fe=e.innerHeight,Ue.width=Le.width=Ee,Ue.height=Le.height=Fe;var t=n("#helloContainer");t.css("transform","none");var o=t.height(),a=e.innerHeight;o>a/1.1?t.css("transform","translate(-50%, -50%) scale("+a/o/1.1+")"):t.css("transform","translate(-50%, -50%)"),ne()}function $(){var t;return t=Math.max(Fe/1080,Ee/1920),t*=J}function te(){var t;return t=Math.max(Fe/1080,Ee/1920)}function ee(){if(0!=k.length){for(var t=0,e=0;e<k.length;e++)t+=k[e].size;var n=Math.pow(Math.min(64/t,1),.4)*te();t=Math.pow(Math.min(64/t,1),.4)*$(),h=(9*h+t)/10,h2=(9*h2+n)/10}}function ne(){Ie=[],Ge=[],Re=[],Je=[],Oe=[];var e,n=Date.now();if(++zb,C=n,0<k.length){ee();for(var o=e=0,a=0;a<k.length;a++)k[a].P(),e+=k[a].x/k.length,o+=k[a].y/k.length;aa=e,ba=o,ca=h,s=(s+e)/2,t=(t+o)/2}else s=(29*s+aa)/30,t=(29*t+ba)/30,h=(9*h+ca*$())/10,h2=(9*h2+ca*te())/10;for(l(),c(),Ia||ke.clearRect(0,0,Ee,Fe),Ia?(ke.fillStyle=ta?"#111111":"#F2FBFF",ke.globalAlpha=.05,ke.fillRect(0,0,Ee,Fe),ke.globalAlpha=1):ie(),v.sort(function(t,e){return t.size==e.size?t.id-e.id:t.size-e.size}),ke.save(),ke.translate(Ee/2,Fe/2),ke.scale(h,h),ke.translate(-s,-t),ke.save(),ke.beginPath(),ke.lineWidth=5,ke.strokeStyle=getDarkBool()?"#F2FBFF":"#111111",ke.moveTo(getMapStartX(),getMapStartY()),ke.lineTo(getMapStartX(),getMapEndY()),ke.stroke(),ke.moveTo(getMapStartX(),getMapStartY()),ke.lineTo(getMapEndX(),getMapStartY()),ke.stroke(),ke.moveTo(getMapEndX(),getMapStartY()),ke.lineTo(getMapEndX(),getMapEndY()),ke.stroke(),ke.moveTo(getMapStartX(),getMapEndY()),ke.lineTo(getMapEndX(),getMapEndY()),ke.stroke(),ke.restore(),a=0;a<v.length;a++)v[a].w(ke);for(a=0;a<Q.length;a++)Q[a].w(ke);if(getPlayer().length>0){var i=window.botList[botIndex].mainLoop();xe||setPoint(i[0],i[1])}if(oe(ke),Ga){for(na=(3*na+Ea)/4,oa=(3*oa+Fa)/4,ke.save(),ke.strokeStyle="#FFAAAA",ke.lineWidth=10,ke.lineCap="round",ke.lineJoin="round",ke.globalAlpha=.5,ke.beginPath(),a=0;a<k.length;a++)ke.moveTo(k[a].x,k[a].y),ke.lineTo(na,oa);ke.stroke(),ke.restore()}ke.restore(),_e&&_e.width&&ke.drawImage(_e,Ee-_e.width-10,10),R=Math.max(R,se());var r=new Date,d=0;getPlayer().length>0&&(d=(r.getTime()-lifeTimer.getTime())/3e3),bestTime=Math.max(d,bestTime);var u="Score: "+~~(R/100);0!=R&&(null==tn&&(tn=new de(24,"#FFFFFF")),tn.C(u),o=tn.L(),e=o.width,ke.globalAlpha=.2,ke.fillStyle="#000000",ke.fillRect(10,Fe-10-24-10,e+10,34),ke.globalAlpha=1,ke.drawImage(o,15,Fe-10-24-5)),re(),n=Date.now()-n,n>1e3/60?$e-=.01:1e3/65>n&&($e+=.01),.4>$e&&($e=.4),$e>1&&($e=1),n=C-ib,!H()||W?(x+=n/2e3,1<x&&(x=1)):(x-=n/300,0>x&&(x=0)),0<x&&(ke.fillStyle="#000000",ke.globalAlpha=1*x,ke.fillRect(0,0,Ee,Fe),ke.globalAlpha=1),ib=C,ae(ke)}function oe(t){t.save();for(var e=0;e<Oe.length;e++)t.beginPath(),t.lineWidth=2,t.strokeStyle=0==Oe[e][4]?"#FF0000":1==Oe[e][4]?"#00FF00":2==Oe[e][4]?"#0000FF":3==Oe[e][4]?"#FF8000":4==Oe[e][4]?"#8A2BE2":5==Oe[e][4]?"#FF69B4":6==Oe[e][4]?"#008080":7==Oe[e][4]?getDarkBool()?"#F2FBFF":"#111111":"#000000",t.moveTo(Oe[e][0],Oe[e][1]),t.lineTo(Oe[e][2],Oe[e][3]),t.stroke();t.restore(),t.save();for(var e=0;e<Ge.length;e++)t.strokeStyle=0==Ge[e][3]?"#FF0000":1==Ge[e][3]?"#00FF00":2==Ge[e][3]?"#0000FF":3==Ge[e][3]?"#FF8000":4==Ge[e][3]?"#8A2BE2":5==Ge[e][3]?"#FF69B4":6==Ge[e][3]?"#008080":7==Ge[e][3]?getDarkBool()?"#F2FBFF":"#111111":"#000000",t.beginPath(),t.lineWidth=2,t.globalAlpha=1,t.arc(Ge[e][0],Ge[e][1],Ge[e][2],0,2*Math.PI,!1),t.stroke();t.restore(),t.save();for(var e=0;e<Re.length;e++){t.strokeStyle=0==Re[e][7]?"#FF0000":1==Re[e][7]?"#00FF00":2==Re[e][7]?"#0000FF":3==Re[e][7]?"#FF8000":4==Re[e][7]?"#8A2BE2":5==Re[e][7]?"#FF69B4":6==Re[e][7]?"#008080":7==Re[e][7]?getDarkBool()?"#F2FBFF":"#111111":"#000000",t.beginPath(),t.lineWidth=5;var n=Math.atan2(Re[e][1]-Re[e][5],Re[e][0]-Re[e][4]),o=Math.atan2(Re[e][3]-Re[e][5],Re[e][2]-Re[e][4]);t.arc(Re[e][4],Re[e][5],Re[e][6],n,o,!1),t.stroke()}t.restore(),t.save();for(var e=0;e<Ie.length;e++)if(""==Je[e]){var a=10;t.beginPath(),t.arc(Ie[e][0],Ie[e][1],a,0,2*Math.PI,!1),t.fillStyle=0==Ie[e][2]?"black":1==Ie[e][2]?"yellow":2==Ie[e][2]?"blue":3==Ie[e][2]?"red":4==Ie[e][2]?"#008080":5==Ie[e][2]?"#FF69B4":"#000000",t.fill(),t.lineWidth=2,t.strokeStyle="#003300",t.stroke()}else{var i=new de(18,getDarkBool()?"#F2FBFF":"#111111",!0,getDarkBool()?"#111111":"#F2FBFF");i.C(Je[e]);var r=i.L();t.drawImage(r,Ie[e][0]-r.width/2,Ie[e][1]-r.height/2)}t.restore()}function ae(t){t.save(),sessionScore=Math.max(getCurrentScore(),sessionScore);var e=window.botList[botIndex].displayText(),n=[];n.push("T - Bot: "+(xe?"Off":"On")),n.push("R - Lines: "+(Ae?"Off":"On"));for(var o=0;o<e.length;o++)n.push(e[o]);n.push("Best Score: "+~~(sessionScore/100));for(var a=20,i=new de(18,getDarkBool()?"#F2FBFF":"#111111"),o=0;o<n.length;o++){i.C(n[o]);var r=i.L();t.drawImage(r,20,a),a+=r.height}if(message.length>0){for(var s=[],l=0,h=0,o=0;o<message.length;o++){var c=new de(28,"#FF0000",!0,"#000000");c.C(message[o]),s.push(c.L()),s[o].width>l&&(l=s[o].width),h+=s[o].height}var d=getWidth()/2-l/2,u=20;t.globalAlpha=.4,t.fillStyle="#000000",t.fillRect(d-10,u-10,l+20,h+20),t.globalAlpha=1;for(var g=u,o=0;o<s.length;o++)t.drawImage(s[o],getWidth()/2-s[o].width/2,g),g+=s[o].height}t.restore()}function ie(){ke.fillStyle=ta?"#111111":"#F2FBFF",ke.fillRect(0,0,Ee,Fe),ke.save(),ke.strokeStyle=ta?"#AAAAAA":"#000000",ke.globalAlpha=.2*h;for(var e=Ee/h,n=Fe/h,o=(e/2-s)%50;e>o;o+=50)ke.beginPath(),ke.moveTo(o*h-.5,0),ke.lineTo(o*h-.5,n*h),ke.stroke();for(o=(n/2-t)%50;n>o;o+=50)ke.beginPath(),ke.moveTo(0,o*h-.5),ke.lineTo(e*h,o*h-.5),ke.stroke();ke.restore()}function re(){if(ze&&je.width){var t=Ee/5;ke.drawImage(je,5,5,t,t)}}function se(){for(var t=0,e=0;e<k.length;e++)t+=k[e].q*k[e].q;return t}function le(){if(_e=null,(null!=A||0!=F.length)&&(null!=A||wa)){_e=document.createElement("canvas");var t=_e.getContext("2d"),e=60,e=null==A?e+24*F.length:e+180,n=Math.min(200,.3*Ee)/200;if(_e.width=200*n,_e.height=e*n,t.scale(n,n),t.globalAlpha=.4,t.fillStyle="#000000",t.fillRect(0,0,200,e),t.globalAlpha=1,t.fillStyle="#FFFFFF",n=null,n=b("leaderboard"),t.font="30px Ubuntu",t.fillText(n,100-t.measureText(n).width/2,40),null==A)for(t.font="20px Ubuntu",e=0;e<F.length;++e)n=F[e].name||b("unnamed_cell"),wa||(n=b("unnamed_cell")),-1!=M.indexOf(F[e].id)?(k[0].name&&(n=k[0].name),t.fillStyle="#FFAAAA"):t.fillStyle="#FFFFFF",n=e+1+". "+n,t.fillText(n,100-t.measureText(n).width/2,70+24*e);else for(e=n=0;e<A.length;++e){var o=n+A[e]*Math.PI*2;t.fillStyle=Db[e+1],t.beginPath(),t.moveTo(100,140),t.arc(100,140,80,n,o,!1),t.fill(),n=o}}}function he(t,e,n,o,a){this.V=t,this.x=e,this.y=n,this.i=o,this.b=a}function ce(t,e,n,o,a,i){this.id=t,this.s=this.x=e,this.t=this.y=n,this.r=this.size=o,this.color=a,this.a=[],this.W(),this.B(i)}function de(t,e,n,o){t&&(this.u=t),e&&(this.S=e),this.U=!!n,o&&(this.v=o)}function ue(t,o){var a="1"==n("#helloContainer").attr("data-has-account-data");if(n("#helloContainer").attr("data-has-account-data","1"),null==o&&e.localStorage.loginCache){var i=JSON.parse(e.localStorage.loginCache);i.f=t.f,i.d=t.d,i.e=t.e,e.localStorage.loginCache=JSON.stringify(i)}if(a){var r=+n(".agario-exp-bar .progress-bar-text").first().text().split("/")[0],a=+n(".agario-exp-bar .progress-bar-text").first().text().split("/")[1].split(" ")[0],i=n(".agario-profile-panel .progress-bar-star").first().text();if(i!=t.e)ue({f:a,d:a,e:i},function(){n(".agario-profile-panel .progress-bar-star").text(t.e),n(".agario-exp-bar .progress-bar").css("width","100%"),n(".progress-bar-star").addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n(".progress-bar-star").removeClass("animated tada")}),setTimeout(function(){n(".agario-exp-bar .progress-bar-text").text(t.d+"/"+t.d+" XP"),ue({f:0,d:t.d,e:t.e},function(){ue(t,o)})},1e3)});else{var s=Date.now(),l=function(){var a;a=(Date.now()-s)/1e3,a=0>a?0:a>1?1:a,a=a*a*(3-2*a),n(".agario-exp-bar .progress-bar-text").text(~~(r+(t.f-r)*a)+"/"+t.d+" XP"),n(".agario-exp-bar .progress-bar").css("width",(88*(r+(t.f-r)*a)/t.d).toFixed(2)+"%"),1>a?e.requestAnimationFrame(l):o&&o()};e.requestAnimationFrame(l)}}else n(".agario-profile-panel .progress-bar-star").text(t.e),n(".agario-exp-bar .progress-bar-text").text(t.f+"/"+t.d+" XP"),n(".agario-exp-bar .progress-bar").css("width",(88*t.f/t.d).toFixed(2)+"%"),o&&o()}function ge(t){"string"==typeof t&&(t=JSON.parse(t)),Date.now()+18e5>t.ja?n("#helloContainer").attr("data-logged-in","0"):(e.localStorage.loginCache=JSON.stringify(t),B=t.fa,n(".agario-profile-name").text(t.name),Z(),ue({f:t.f,d:t.d,e:t.e}),n("#helloContainer").attr("data-logged-in","1"))}function fe(t){t=t.split("\n"),ge({name:t[0],ta:t[1],fa:t[2],ja:1e3*+t[3],e:+t[4],f:+t[5],d:+t[6]})}function pe(t){if("connected"==t.status){var o=t.authResponse.accessToken;e.FB.api("/me/picture?width=180&height=180",function(t){e.localStorage.fbPictureCache=t.data.url,n(".agario-profile-picture").attr("src",t.data.url)}),n("#helloContainer").attr("data-logged-in","1"),null!=B?n.ajax(be+"checkToken",{error:function(){B=null,pe(t)},success:function(t){t=t.split("\n"),ue({e:+t[0],f:+t[1],d:+t[2]})},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:B}):n.ajax(be+"facebookLogin",{error:function(){B=null,n("#helloContainer").attr("data-logged-in","0")},success:fe,dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:o})}}function me(t){p(":party"),n("#helloContainer").attr("data-party-state","4"),t=decodeURIComponent(t).replace(/.*#/gim,""),we("#"+e.encodeURIComponent(t)),n.ajax(be+"getToken",{error:function(){n("#helloContainer").attr("data-party-state","6")},success:function(o){o=o.split("\n"),n(".partyToken").val("agar.io/#"+e.encodeURIComponent(t)),n("#helloContainer").attr("data-party-state","5"),p(":party"),L("ws://"+o[0],t)},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:t})}function we(t){e.history&&e.history.replaceState&&e.history.replaceState({},e.document.title,t)}if(window.verticalDistance=function(){return z(screenToGameX(0),screenToGameY(0),screenToGameX(getWidth()),screenToGameY(getHeight()))},window.screenToGameX=function(t){return(t-getWidth()/2)/getRatio()+getX()},window.screenToGameY=function(t){return(t-getHeight()/2)/getRatio()+getY()},window.drawPoint=function(t,e,n,o){Ae||(Ie.push([t,e,n]),Je.push(o))},window.drawArc=function(t,e,n,o,a,i,r){if(!Ae){var s=z(t,e,a,i);Re.push([t,e,n,o,a,i,s,r])}},window.drawLine=function(t,e,n,o,a){Ae||Oe.push([t,e,n,o,a])},window.drawCircle=function(t,e,n,o){Ae||Ge.push([t,e,n,o])},window.opCode=function(t){V(parseInt(t))},!e.agarioNoInit){var ye=e.location.protocol,ve="https:"==ye,be=ye+"//m.agar.io/",Se=e.navigator.userAgent;if(-1!=Se.indexOf("Android"))e.ga&&e.ga("send","event","MobileRedirect","PlayStore"),setTimeout(function(){e.location.href="market://details?id=com.miniclip.agar.io"},1e3);else if(-1!=Se.indexOf("iPhone")||-1!=Se.indexOf("iPad")||-1!=Se.indexOf("iPod"))e.ga&&e.ga("send","event","MobileRedirect","AppStore"),setTimeout(function(){e.location.href="https://itunes.apple.com/app/agar.io/id995999703"},1e3);else{var Ue,ke,Le,Ee,Fe,Te=null,xe=!1,Ae=!1,Pe=0,Ce=0,Me=100,Be=100,Ie=[],Ge=[],Re=[],Je=[],Oe=[],Ne=["Dilma"],De=!0;originalName=Ne[Math.floor(Math.random()*Ne.length)],sessionScore=0,serverIP="",interNodes=[],lifeTimer=new Date,bestTime=0,botIndex=0,reviving=!1,message=[],q=null,s=0,t=0,M=[],k=[],E={},v=[],Q=[],F=[],fa=0,ga=0,ia=-1,ja=-1,zb=0,C=0,ib=0,K=null,pa=0,qa=0,ra=1e4,sa=1e4,h=1,h2=1,y=null,kb=!0,wa=!0,Oa=!1,Ha=!1,R=0,ta=!1,lb=!1,aa=s=~~((pa+ra)/2),ba=t=~~((qa+sa)/2),ca=1,P="",A=null,ya=!1,Ga=!1,Ea=0,Fa=0,na=0,oa=0,mb=0,Db=["#333333","#FF3333","#33FF33","#3333FF"],Ia=!1,bo=!1,bb=0,B=null,J=1,x=1,W=!0,Ba=0,Da={},function(){var t=e.location.search;"?"==t.charAt(0)&&(t=t.slice(1));for(var t=t.split("&"),n=0;n<t.length;n++){var o=t[n].split("=");Da[o[0]]=o[1]}}();var ze="ontouchstart"in e&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e.navigator.userAgent),je=new Image;je.src="img/split.png";var Ye=document.createElement("canvas");if("undefined"==typeof console||"undefined"==typeof DataView||"undefined"==typeof WebSocket||null==Ye||null==Ye.getContext||null==e.localStorage)alert("You browser does not support this game, we recommend you to use Firefox to play this");else{var qe=null;e.setNick=function(t){De=!1,originalName=t,0==getPlayer().length&&(lifeTimer=new Date),u(),K=t,X(),R=0},e.setRegion=g,e.setSkins=function(t){kb=t},e.setNames=function(t){wa=t},e.setDarkTheme=function(t){ta=t},e.setColors=function(t){Oa=t},e.setShowMass=function(t){lb=t},e.spectate=function(){K=null,V(1),u()},e.setGameMode=function(t){t!=P&&(":party"==P&&n("#helloContainer").attr("data-party-state","0"),p(t),":party"!=t&&U())},e.setAcid=function(t){Ia=t},null!=e.localStorage&&(null==e.localStorage.AB9&&(e.localStorage.AB9=0+~~(100*Math.random())),mb=+e.localStorage.AB9,e.ABGroup=mb),n.get(ye+"//gc.agar.io",function(t){var e=t.split(" ");t=e[0],e=e[1]||"",-1==["UA"].indexOf(t)&&on.push("ussr"),Xe.hasOwnProperty(t)&&("string"==typeof Xe[t]?y||g(Xe[t]):Xe[t].hasOwnProperty(e)&&(y||g(Xe[t][e])))},"text"),e.ga&&e.ga("send","event","User-Agent",e.navigator.userAgent,{nonInteraction:1});var Qe=!1,We=0;setTimeout(function(){Qe=!0},Math.max(6e4*We,1e4));var Xe={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"EU-London",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"EU-London",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"},Ke=null;e.connect=L,window.getDarkBool=function(){return ta},window.getMassBool=function(){return lb},window.getMemoryCells=function(){return interNodes},window.getCellsArray=function(){return v},window.getCells=function(){return E},window.getPlayer=function(){return k},window.getWidth=function(){return Ee},window.getHeight=function(){return Fe},window.getRatio=function(){return h},window.getZoomlessRatio=function(){return h2},window.getOffsetX=function(){return aa},window.getOffsetY=function(){return ba},window.getX=function(){return s},window.getY=function(){return t},window.getPointX=function(){return ia},window.getPointY=function(){return ja},window.getMouseX=function(){return fa},window.getMouseY=function(){return ga},window.getMapStartX=function(){return pa},window.getMapStartY=function(){return qa},window.getMapEndX=function(){return ra},window.getMapEndY=function(){return sa},window.getScreenDistance=function(){var t=j();return t},window.getLastUpdate=function(){return C},window.getCurrentScore=function(){return R},window.getMode=function(){return P},window.getServer=function(){return serverIP},window.setPoint=function(t,e){ia=t,ja=e},window.setScore=function(t){sessionScore=100*t},window.setBestTime=function(t){bestTime=t},window.best=function(t,e){setScore(t),setBestTime(e)},window.setBotIndex=function(t){botIndex=t,setLauncherCustomParameters(window.botList[t])},window.setLauncherCustomParameterOnChange=function(t,e,n){t.on("change input",function(){var t=window.jQuery(this).val();n.value=t,e.text(t)})},window.setLauncherCustomParameters=function(t){if(window.jQuery("#launcher-custom-params").remove(),window.jQuery("#launcher-wrapper").append(window.jQuery('<div id="launcher-custom-params">')),void 0!==t.customParameters)for(var e in t.customParameters){var n=window.jQuery('<div class="form-group">'),o=window.jQuery("<label>"),a=window.jQuery('<span style="float: right; display: none;">'),i=window.jQuery('<input class="form-control">');o.text(void 0!==t.customParameters[e].label?t.customParameters[e].label:e);for(var r in t.customParameters[e])"label"!=r&&("value"==r?a.text(t.customParameters[e][r]):"type"==r&&"range"==t.customParameters[e][r]&&(i.removeClass("form-control"),a.show()),i.attr(r,t.customParameters[e][r]));setLauncherCustomParameterOnChange(i,a,t.customParameters[e]),n.append(o),n.append(a),n.append(i),n.appendTo(window.jQuery("#launcher-custom-params"))}},window.setLauncherBotList=function(){window.jQuery("#launcher-bot-list").remove(),window.jQuery("#launcher-wrapper").append(window.jQuery('<div id="launcher-bot-list" class="form-group">'));for(var t=window.jQuery('<select id="bList" class="form-control" onchange="setBotIndex(window.jQuery(this).val());" />'),e=0;e<window.botList.length;e++)"Human"==window.botList[e].name&&window.botList.length>1?botIndex==e&&(botIndex=(botIndex+1).mod(window.botList.length)):window.jQuery("<option />",{value:e,text:window.botList[e].name}).appendTo(t);t.appendTo(window.jQuery("#launcher-bot-list"))},window.setMessage=function(t){message=t},window.shoot=function(){!xe&&Pe+Me<(new Date).getTime()&&(Pe=(new Date).getTime(),opCode(21))},window.split=function(){!xe&&Ce+Be<(new Date).getTime()&&(Ce=(new Date).getTime(),opCode(17))},window.updateBotList=function(){window.botList=window.botList||[],window.jQuery("#launcher-wrapper").remove(),window.jQuery('<div id="launcher-wrapper">').insertBefore("#agario-main-buttons"),setLauncherBotList(),setLauncherCustomParameters(window.botList[window.jQuery("#bList").val()])};var He=500,Ve=-1,Ze=-1,_e=null,$e=1,tn=null,en=function(){var t=Date.now(),n=1e3/60;return function(){e.requestAnimationFrame(en);var o=Date.now(),a=o-t;a>n&&(t=o-a%n,!H()||240>Date.now()-bb?ne():console.warn("Skipping draw"),hn())}}(),nn={},on="notreallyabot;poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook".split(";"),an=["8","nasa"],rn=["m'blob"];he.prototype={V:null,x:0,y:0,i:0,b:0},ce.prototype={id:0,a:null,name:null,o:null,O:null,x:0,y:0,size:0,s:0,t:0,r:0,J:0,K:0,q:0,ba:0,Q:0,sa:0,ia:0,G:!1,h:!1,n:!1,R:!0,Y:0,updateCode:0,danger:!1,dangerTimeOut:0,isNotMoving:function(){return(this.x==this.s||this.x+1==this.s||this.x==this.s+1)&&(this.y==this.t||this.y==this.t+1||this.y+1==this.t)||1==perseguebolas},isVirus:function(){return this.h},getUptimeTime:function(){return this.Q},X:function(){var t;for(t=0;t<v.length;t++)if(v[t]==this){v.splice(t,1);break}delete E[this.id],t=k.indexOf(this),-1!=t&&(Ha=!0,k.splice(t,1)),t=M.indexOf(this.id),-1!=t&&M.splice(t,1),this.G=!0,0<this.Y&&Q.push(this)},l:function(){return Math.max(~~(.3*this.size),24)},B:function(t){(this.name=t)&&(null==this.o?this.o=new de(this.l(),"#FFFFFF",!0,"#000000"):this.o.M(this.l()),this.o.C(this.name))},W:function(){for(var t=this.I();this.a.length>t;){var e=~~(Math.random()*this.a.length);this.a.splice(e,1)}for(0==this.a.length&&t>0&&this.a.push(new he(this,this.x,this.y,this.size,Math.random()-.5));this.a.length<t;)e=~~(Math.random()*this.a.length),e=this.a[e],this.a.push(new he(this,e.x,e.y,e.i,e.b))},I:function(){var t=10;20>this.size&&(t=0),this.h&&(t=30);var e=this.size;return this.h||(e*=h),e*=$e,32&this.ba&&(e*=.25),~~Math.max(e,t)},qa:function(){this.W();for(var t=this.a,e=t.length,n=0;e>n;++n){var o=t[(n-1+e)%e].b,a=t[(n+1)%e].b;t[n].b+=(Math.random()-.5)*(this.n?3:1),t[n].b*=.7,10<t[n].b&&(t[n].b=10),-10>t[n].b&&(t[n].b=-10),t[n].b=(o+a+8*t[n].b)/10}for(var i=this,r=this.h?0:(this.id/1e3+C/1e4)%(2*Math.PI),n=0;e>n;++n){var s=t[n].i,o=t[(n-1+e)%e].i,a=t[(n+1)%e].i;
if(15<this.size&&null!=Te&&20<this.size*h&&0<this.id){var l=!1,c=t[n].x,d=t[n].y;Te.ra(c-5,d-5,10,10,function(t){t.V!=i&&25>(c-t.x)*(c-t.x)+(d-t.y)*(d-t.y)&&(l=!0)}),!l&&(t[n].x<pa||t[n].y<qa||t[n].x>ra||t[n].y>sa)&&(l=!0),l&&(0<t[n].b&&(t[n].b=0),t[n].b-=1)}s+=t[n].b,0>s&&(s=0),s=this.n?(19*s+this.size)/20:(12*s+this.size)/13,t[n].i=(o+a+8*s)/10,o=2*Math.PI/e,a=this.a[n].i,this.h&&0==n%2&&(a+=5),t[n].x=this.x+Math.cos(o*n+r)*a,t[n].y=this.y+Math.sin(o*n+r)*a}},P:function(){if(0>=this.id)return 1;var t;t=(C-this.Q)/120,t=0>t?0:t>1?1:t;var e=0>t?0:t>1?1:t;if(this.l(),this.G&&e>=1){var n=Q.indexOf(this);-1!=n&&Q.splice(n,1)}return this.x=t*(this.J-this.s)+this.s,this.y=t*(this.K-this.t)+this.t,this.size=e*(this.q-this.r)+this.r,e},N:function(){return 0>=this.id?!0:this.x+this.size+40<s-Ee/2/h||this.y+this.size+40<t-Fe/2/h||this.x-this.size-40>s+Ee/2/h||this.y-this.size-40>t+Fe/2/h?!1:!0},w:function(t){if(this.N()){++this.Y;var e=0<this.id&&!this.h&&!this.n&&.4>h;if(5>this.I()&&(e=!0),this.R&&!e)for(var n=0;n<this.a.length;n++)this.a[n].i=this.size;if(this.R=e,t.save(),this.ia=C,n=this.P(),this.G&&(t.globalAlpha*=1-n),t.lineWidth=10,t.lineCap="round",t.lineJoin=this.h?"miter":"round",Oa?(t.fillStyle="#FFFFFF",t.strokeStyle="#AAAAAA"):(t.fillStyle=this.color,t.strokeStyle=this.color),e)t.beginPath(),t.arc(this.x,this.y,this.size+5,0,2*Math.PI,!1);else{this.qa(),t.beginPath();var o=this.I();for(t.moveTo(this.a[0].x,this.a[0].y),n=1;o>=n;++n){var a=n%o;t.lineTo(this.a[a].x,this.a[a].y)}}if(t.closePath(),o=this.name.toLowerCase(),!this.n&&kb&&":teams"!=P&&-1!=on.indexOf(o)?(nn.hasOwnProperty(o)||(nn[o]=new Image,nn[o].src="notreallyabot"==o?"http://i.imgur.com/q5FdCkx.png":"skins/"+o+".png"),n=0!=nn[o].width&&nn[o].complete?nn[o]:null):n=null,n=(a=n)?-1!=rn.indexOf(o):!1,e||t.stroke(),t.fill(),null==a||n||(t.save(),t.clip(),t.drawImage(a,this.x-this.size,this.y-this.size,2*this.size,2*this.size),t.restore()),(Oa||15<this.size)&&!e&&(t.strokeStyle="#000000",t.globalAlpha*=.1,t.stroke()),t.globalAlpha=1,null!=a&&n&&t.drawImage(a,this.x-2*this.size,this.y-2*this.size,4*this.size,4*this.size),n=-1!=k.indexOf(this),e=~~this.y,0!=this.id&&(wa||n)&&this.name&&this.o&&(null==a||-1==an.indexOf(o))){a=this.o,a.C(this.name),a.M(this.l()),o=0>=this.id?1:Math.ceil(10*h)/10,a.ea(o);var a=a.L(),i=~~(a.width/o),r=~~(a.height/o);t.drawImage(a,~~this.x-~~(i/2),e-~~(r/2),i,r),e+=a.height/2/o+4}0<this.id&&lb&&(n||0==k.length&&(!this.h||this.n)&&20<this.size)&&(null==this.O&&(this.O=new de(this.l()/2,"#FFFFFF",!0,"#000000")),n=this.O,n.M(this.l()/2),n.C(~~(this.size*this.size/100)),o=Math.ceil(10*h)/10,n.ea(o),a=n.L(),i=~~(a.width/o),r=~~(a.height/o),t.drawImage(a,~~this.x-~~(i/2),e-~~(r/2),i,r)),t.restore()}}},de.prototype={F:"",S:"#000000",U:!1,v:"#000000",u:16,p:null,T:null,k:!1,D:1,M:function(t){this.u!=t&&(this.u=t,this.k=!0)},ea:function(t){this.D!=t&&(this.D=t,this.k=!0)},setStrokeColor:function(t){this.v!=t&&(this.v=t,this.k=!0)},C:function(t){t!=this.F&&(this.F=t,this.k=!0)},L:function(){if(null==this.p&&(this.p=document.createElement("canvas"),this.T=this.p.getContext("2d")),this.k){this.k=!1;var t=this.p,e=this.T,n=this.F,o=this.D,a=this.u,i=a+"px Ubuntu";e.font=i;var r=~~(.2*a);t.width=(e.measureText(n).width+6)*o,t.height=(a+r)*o,e.font=i,e.scale(o,o),e.globalAlpha=1,e.lineWidth=3,e.strokeStyle=this.v,e.fillStyle=this.S,this.U&&e.strokeText(n,3,a-r/2),e.fillText(n,3,a-r/2)}return this.p}},Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var t=["ms","moz","webkit","o"],n=0;n<t.length&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[t[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t[n]+"CancelAnimationFrame"]||e[t[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){return setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){clearTimeout(t)})}();var sn={ka:function(t){function e(t,e,n,o,a){this.x=t,this.y=e,this.j=n,this.g=o,this.depth=a,this.items=[],this.c=[]}var n=t.ma||2,o=t.na||4;e.prototype={x:0,y:0,j:0,g:0,depth:0,items:null,c:null,H:function(t){for(var e=0;e<this.items.length;++e){var n=this.items[e];if(n.x>=t.x&&n.y>=t.y&&n.x<t.x+t.j&&n.y<t.y+t.g)return!0}if(0!=this.c.length){var o=this;return this.$(t,function(e){return o.c[e].H(t)})}return!1},A:function(t,e){for(var n=0;n<this.items.length;++n)e(this.items[n]);if(0!=this.c.length){var o=this;this.$(t,function(n){o.c[n].A(t,e)})}},m:function(t){0!=this.c.length?this.c[this.Z(t)].m(t):this.items.length>=n&&this.depth<o?(this.ha(),this.c[this.Z(t)].m(t)):this.items.push(t)},Z:function(t){return t.x<this.x+this.j/2?t.y<this.y+this.g/2?0:2:t.y<this.y+this.g/2?1:3},$:function(t,e){return t.x<this.x+this.j/2&&(t.y<this.y+this.g/2&&e(0)||t.y>=this.y+this.g/2&&e(2))||t.x>=this.x+this.j/2&&(t.y<this.y+this.g/2&&e(1)||t.y>=this.y+this.g/2&&e(3))?!0:!1},ha:function(){var t=this.depth+1,n=this.j/2,o=this.g/2;for(this.c.push(new e(this.x,this.y,n,o,t)),this.c.push(new e(this.x+n,this.y,n,o,t)),this.c.push(new e(this.x,this.y+o,n,o,t)),this.c.push(new e(this.x+n,this.y+o,n,o,t)),t=this.items,this.items=[],n=0;n<t.length;n++)this.m(t[n])},clear:function(){for(var t=0;t<this.c.length;t++)this.c[t].clear();this.items.length=0,this.c.length=0}};var a={x:0,y:0,j:0,g:0};return{root:new e(t.ca,t.da,t.oa-t.ca,t.pa-t.da,0),m:function(t){this.root.m(t)},A:function(t,e){this.root.A(t,e)},ra:function(t,e,n,o,i){a.x=t,a.y=e,a.j=n,a.g=o,this.root.A(a,i)},H:function(t){return this.root.H(t)},clear:function(){this.root.clear()}}}},ln=function(){var t=new ce(0,0,0,32,"#ED1C24",""),e=document.createElement("canvas");e.width=32,e.height=32;var n=e.getContext("2d");return function(){0<k.length&&(t.color=k[0].color,t.B(k[0].name)),n.clearRect(0,0,32,32),n.save(),n.translate(16,16),n.scale(.4,.4),t.w(n),n.restore();var e=document.getElementById("favicon"),o=e.cloneNode(!0);e.parentNode.replaceChild(o,e)}}();n(function(){ln()}),n(function(){+e.localStorage.wannaLogin&&(e.localStorage.loginCache&&ge(e.localStorage.loginCache),e.localStorage.fbPictureCache&&n(".agario-profile-picture").attr("src",e.localStorage.fbPictureCache))}),e.facebookLogin=function(){e.localStorage.wannaLogin=1},e.fbAsyncInit=function(){function t(){e.localStorage.wannaLogin=1,null==e.FB?alert("You seem to have something blocking Facebook on your browser, please check for any extensions"):e.FB.login(function(t){pe(t)},{scope:"public_profile, email"})}e.FB.init({appId:"677505792353827",cookie:!0,xfbml:!0,status:!0,version:"v2.2"}),e.FB.Event.subscribe("auth.statusChange",function(n){+e.localStorage.wannaLogin&&("connected"==n.status?pe(n):t())}),e.facebookLogin=t},e.logout=function(){B=null,n("#helloContainer").attr("data-logged-in","0"),n("#helloContainer").attr("data-has-account-data","0"),delete e.localStorage.wannaLogin,delete e.localStorage.loginCache,delete e.localStorage.fbPictureCache,U()};var hn=function(){function t(t,e,n,o,a){var i=e.getContext("2d"),r=e.width;e=e.height,t.color=a,t.B(n),t.size=o,i.save(),i.translate(r/2,e/2),t.w(i),i.restore()}var e=new ce(0,0,0,32,"#5bc0de","");e.id=-1;var o=new ce(0,0,0,32,"#5bc0de","");o.id=-1;var a=document.createElement("canvas");return a.getContext("2d"),a.width=a.height=70,t(o,a,"",26,"#ebc0de"),function(){n(".cell-spinner").filter(":visible").each(function(){var o=n(this),i=Date.now(),r=this.width,s=this.height,l=this.getContext("2d");l.clearRect(0,0,r,s),l.save(),l.translate(r/2,s/2);for(var h=0;10>h;++h)l.drawImage(a,(.1*i+80*h)%(r+140)-r/2-70-35,s/2*Math.sin((.001*i+h)%Math.PI*2)-35,70,70);l.restore(),(o=o.attr("data-itr"))&&(o=b(o)),t(e,this,o||"",+n(this).attr("data-size"),"#5bc0de")})}}();e.createParty=function(){p(":party"),Ke=function(t){we("/#"+e.encodeURIComponent(t)),n(".partyToken").val("agar.io/#"+e.encodeURIComponent(t)),n("#helloContainer").attr("data-party-state","1")},U()},e.joinParty=me,e.cancelParty=function(){we("/"),n("#helloContainer").attr("data-party-state","0"),p(""),U()},n(function(){n(i)})}}}}(window,window.jQuery);
